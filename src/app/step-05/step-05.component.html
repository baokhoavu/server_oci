<app-stepper></app-stepper>

<!-- Preloader -->
<div class="mat-spinner-container" *ngIf="!data">
	<div class="spinner-inner">
		<mat-spinner></mat-spinner>
	</div>
</div>

<div class="container" id="step-05" *ngIf="data">
  <div class="row">
    <div class="form-container">
      <h2 class="text-center">Safety Video<span class="safety-responsive"></span> (5 minutes)</h2>
      <p>
        Your safety and wellbeing are very important to the Rexall&trade; OneWalk to Conquer Cancer&trade;. Mandatory viewing of this video is required in order to continue with Online Check-In. Once the video has played to the end, you will be able to move on to the next step.
      </p>
      <p>
        Our City Nights walk will begin in the evening at 6:30 p.m. and will continue throughout the night so it will get dark and affect visibility.
      </p>
      <p>
        Our Day Trip at the Boyd Conservation Park will take place on a trail that may include some challenges. Please note the following:
      </p>
      <ul>
        <li>Be aware of uneven ground surfaces when walking.</li>
        <li>Pace yourself for any uphill sections in the route.</li>
        <li>If you have any mobility issues, a detour route or sweep transportation will be provided to you upon request.</li>
        <li>If you are feeling tired or sore, please meet our Sweep Crew at one of the Sweep Marshall Points along the route.</li>
        <li>If you are feeling like you are unable to complete the 25 KM Route, Shuttle buses will be available at the 15 km mark, the lunch stop located at the McMichael Art Gallery.</li>
        <li>If you have any questions, concerns or wish to change routes, please contact one of your OneWalk coaches [416] 815-WALK [9255].</li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="video-container" >
        <video
          (seeking)="seekingVideo($event)"
          oncontextmenu="return false;"
          (ended)="vidEnded()"
          (click)="playVideo()"
          #videoPlayer
          poster="assets/images/ow_vid_poster.png">
          <source src="{{data.safetyVidURL}}" type="video/mp4">
          <source src="{{data.safetyVidWebmURL}}" type="video/webm">
          Your browser does not support this video.
        </video>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="vid-btn-container">
        <button
          mat-raised-button
          color="accent"
          class="prev-btn button-font"
          (click)="pauseVideo()">
          Pause
        </button>
        <button
          mat-raised-button
          color="accent"
          class="next-btn button-font"
          (click)="playVideo()">
          Play
        </button>
      </div>
    </div>
  </div>
  <br />
  <div class="row" *ngIf="videoWatched === true">
    <div class="col-12">
      <div class="waiver-container">
        <mat-form-field>
          <p><strong>PARTICIPANT AGREEMENT. WAIVER & RELEASE OF LIABILITY</strong></p>
          <textarea matInput matTextareaAutosize matAutosizeMinRows="2"
                    matAutosizeMaxRows="15" disabled>            
            I wish to participate in the Rexall&trade; OneWalk to Conquer Cancer&trade; benefiting Princess Margaret Cancer Centre scheduled to take place on September 6 and/or 7, 2019 ("OneWalk City Nights" and "OneWalk Day Trip"), as well as various pre- and post-event activities (including, without limitation, one or more training walks) (the "Event") and I agree to abide by all rules, regulations, and event instructions of the Event, as well as all applicable municipal and provincial laws and regulations.

            I understand that participating in such an event, using public streets and public and private facilities, and the use of and participation in services made available to certain participants during the event (including massage, chiropractic, and medical services) is a potentially hazardous activity and can result in serious injury or death. I am aware of and expressly assume all risks associated with participating in this event, including, without limitation, falls, contact with other persons and objects, the effects of weather, traffic, and the conditions of the streets, route and facilities used by the Event and I assert that my participation in this event is voluntary. 
  
            In consideration for being permitted to participate in the Event, I, for myself and for anyone entitled to act on my behalf, hereby waive and release from any and all claims for injuries and damages I may have arising out of the event or my participation in the event (including without limitation any pre- and post-event activities), against OneWalk, CauseForce, LLC, The Princess Margaret Cancer Foundation and Princess Margaret Cancer Centre, the University Health Network, the City of Toronto, the Province of Ontario, Canada, Canada Lands Company CLC Limited and its property managers, any beneficiaries, sponsors, officials, participating clubs, communities, organizations, friends of the Event, Walkers, crew members, participants, third-party vendors, government or public entities (including, without limitation, the City of Toronto Division Transportation Services), and their respective affiliates, successors, officers, directors, employees, volunteers, agents and representatives, including, without limitation, the Event medical sponsor, the medical director and members of the medical team (the “Releasees”). 
              
            I intend by this Waiver and Release to release, in advance, and to waive my rights and to discharge all of the Releasees, from all claims for damages for death, personal injury or property damage that I may have, or which may hereafter accrue to me, as a result of my participation in the Event, even though that liability may arise from active or passive negligence (whether simple or gross), carelessness, or recklessness on the part of the persons or entities being released, from dangerous or defective streets, facilities, property or equipment owned, maintained, controlled or used by them or because of their possible liability without fault. I further agree to indemnify the Releasees from all claims for damages for death, personal injury or property damage made by any third party, caused by or arising out of, in whole or in part, my actions. 
              
            I understand and agree that this Waiver and Release is binding on my heirs, assigns, and legal representatives. 
              
            I attest that I am physically capable of, and have sufficiently trained for, completing the Event. If I am aware of or under treatment for any physical infirmity, ailment or illness, my medical care provider has been apprised of, and has approved of, my participation in the Event. I acknowledge that I, and I alone, am solely responsible for my personal health and safety, and the personal property I bring with me. I consent to receive medical treatment, which may be advisable in the event of illness or injuries suffered by me during the Event, and I agree to pay for the costs of any such medical treatment. 
              
            I agree that my participation in the Event is subject to the sole discretion of the organizers of the Event, and that my participation may be limited or terminated, with or without cause.         

            I represent and warrant that I will be at least 16 years old at the time of the event. If I am under the age of 18, I understand I MUST have a guardian accompany me on the event as a fellow registered participant. 
              
            I understand that the Event may be delayed, postponed or canceled due to unforeseen circumstances or occurrences not under the control of the Event organizers, including without limitation, acts of God, fires, floods, explosions, riots, wars, sabotage, terrorism, vandalism, accidents, governmental acts, injunctions, strikes and other like events that are beyond the anticipation and control of the organizers. 
              
            I understand that all donations processed by the OneWalk donation office are non-refundable and non-transferable, even if I do not participate in the event. I further understand that my registration fee is non-refundable, non-transferable, does not apply toward my fundraising commitment, and is not tax receiptable. 
              
            If I am a Walker, I understand I must meet the following fundraising criteria for participation in any portion of the event. If I have not raised these minimums before September 6, 2019, I may make my own donation to reach that minimum in order to walk. 
              
            OneWalk City Nights (15 km): CA$1,500 fundraising minimum commitment. 
            OneWalk Day Trip (25 km): CA$1,500 fundraising minimum commitment. 
            OneWalk Night + Day (40 km): CA$2,000 fundraising minimum commitment. 
            OneWalk Virtual Walker: CA$100 fundraising minimum commitment. 
              
            I give permission for the free use of my name, photograph, voice, or likeness, in any broadcast, telecast, advertising promotion, or other account of the Event or marketing or promotion for future or similar events, and waive any rights of privacy I may have in that regard.  
              
            I grant the Event organizers a non-exclusive, worldwide, perpetual, irrevocable, royalty-free, transferable, sublicensable right and license to use, reproduce, adapt, modify, distribute, translate, publish, create derivative works based on, perform, display and otherwise exploit any content, in whole or in part, I provide or make available to any website, social media account or page or services operated by the Event organizers (“Services”). I represent and warrant that I have all authority necessary to grant such license and that my content (i) does not infringe, violate, misappropriate or otherwise conflict with the rights of any third party, and (ii) complies with all applicable laws and regulations. I understand that I am solely liable for all content I provide or otherwise make available to or through the Services and I agree not to use the Services to (i) upload, post, email, transmit or otherwise make available any content that (a) is unlawful, harmful, threatening, abusive, harassing, tortuous, defamatory, vulgar, obscene, libelous, invasive of another's privacy, hateful, or racially, ethnically or otherwise objectionable; (b) is harmful to minors in any way; (c) facilitates gambling, gaming, lotteries, raffles, contests, sweepstakes and/or any other activity featuring the award of a prize; (d) impersonates any person or entity, or falsely states or otherwise misrepresents my affiliation with any person or entity; (e) I do not have a right to make available or that infringes upon any person or entity’s patent, trademark, trade secret, copyright or other intellectual property or proprietary rights; or (f) contains software viruses or any other computer code, files or programs designed to interrupt, destroy or limit the functionality of any computer software or hardware or telecommunications equipment; (ii) interfere with or disrupt the Services or servers or networks connected to the Services, or disobey any requirements, procedures, policies or regulations of networks connected to the Services; or (iii) intentionally or unintentionally violate any applicable law or regulation. 
              
            THIS WAIVER AND RELEASE SHALL BE INTERPRETED AND THE RIGHTS OF THE PARTIES DETERMINED UNDER THE LAWS OF THE PROVINCE OF ONTARIO. THE ONTARIO COURTS SHALL HAVE EXCLUSIVE JURISDICTION FOR ANY DISPUTE ARISING UNDER, OR PERTAINING TO, THIS WAIVER AND RELEASE. 
              
            I have carefully read this Waiver and Release and fully understand its contents. I am aware that this is a release of liability and a binding contract between myself and the persons and entities mentioned above and I sign it of my own free will. I understand that I am giving up substantial rights, including my right to sue. I acknowledge that I am signing this Waiver and Release freely and voluntarily, and intend by my signature to be a complete and unconditional release of all liability to the greatest extent allowed by law. 

          </textarea>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="videoWatched === true">
    <form class="form-container" [formGroup]="waiverForm">
      <p>
        <strong>
          Thanks for watching The OneWalk Safety Video. Please enter your first and last name below to confirm you have read the Safety Waiver.
        </strong>
      </p>
      <p>
        Please note, you will be unable to proceed to the next step until you enter your name and continue to the next
        page.
      </p>
      <br />
      <div class="form-group">
        <mat-form-field class="mat-input waiverSig">
          <input
            required
            minlength="5"
            matInput
            placeholder="First and Last Name"
            value="{{fullName}}"
            [(ngModel)]="fullName"            
            formControlName="fullName">

          <mat-error>
            Full name cannot be less than 5 characters.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group chex">
        <mat-checkbox required color="accent" [(ngModel)]="ageResponse"  (change)="checkRes()" formControlName="ageResponse">
          <div class="check-box-text">I am at least 18 years of age and have carefully read this document, including the Waiver and Release, fully understand its contents and voluntarily agree. If under the age of 18, I have carefully read this document with my parent or guardian, fully understand its contents and participate with their consent.</div>
        </mat-checkbox>

        <mat-error *ngIf="waiverForm.hasError('required')">
          Checkbox must be selected in order to continue.
        </mat-error>
      </div>
    </form>
  </div>
  

	<div class="form-container">
		<div class="border-btm"></div>
	</div>

	<div class="row bottom-nav-row" *ngIf="surveyResults">
		<div class="col-12 form-container">
			<div class="btn-container">
				<button mat-raised-button color="accent" class="prev-btn" (click)="previousFlowStep()">
					Back
				</button>
				<button
					mat-raised-button
					color="accent"
					class="next-btn"
					(click)="updateSurveyRes()"
					[disabled]="waiverForm.invalid">
					Next
				</button>
			</div>
      <div class="save-col">
        <a (click)="updateSurveyResSave()" class="save-later float-right text-uppercase">Save For Later</a>
      </div>
		</div>
	</div>
</div>
